main.61d8c864.js:2 🔐 Auth state change: INITIAL_SESSION undefined
main.61d8c864.js:2 No user authenticated for version check
main.61d8c864.js:2 No user authenticated for version update
main.61d8c864.js:2 No user authenticated for version update
sw.js?v=1.3.4-1760694279644:354 Service Worker loaded successfully
(index):1 SW registered:  ServiceWorkerRegistration
sw.js?v=1.3.4-1760694279644:11 Service Worker installing...
sw.js?v=1.3.4-1760694279644:15 Opened cache
sw.js?v=1.3.4-1760694279644:30 Service Worker cache completed
sw.js?v=1.3.4-1760694279644:42 Service Worker activating... FORCING COMPLETE CACHE RESET
sw.js?v=1.3.4-1760694279644:45 Found caches: Array(1)
sw.js?v=1.3.4-1760694279644:48 DELETING cache: tm-case-booking-v1.3.4-FORCE-RESET-1760694280841-0.671786246486198
sw.js?v=1.3.4-1760694279644:53 ALL CACHES DELETED - Fresh start
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:44:43.219Z"
}
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Starting department load for country: Singapore
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - User role: admin
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Imported getStandardizedDepartments function
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - getStandardizedDepartments called with country: Singapore
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - Normalized country: Singapore
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:43.367Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 19,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:43.379Z"
}
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - Raw departments from getCodeTableDepartments: Array(1)
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - Final sorted departments: Array(1)
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Raw department names from getStandardizedDepartments: Array(1)
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Admin/IT user, using all departments: Array(1)
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 659,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:44.019Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 673,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:44.033Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 2188,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:45.548Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 2206,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:45.566Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 3070,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:46.430Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 3077,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:46.437Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 3462,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:46.822Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 3470,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:46.830Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 5328,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:48.688Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 6322,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:49.682Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7128,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:50.488Z"
}
main.61d8c864.js:2  ⚠️ No roles from hook, using fallback data
(anonymous) @ main.61d8c864.js:2
main.61d8c864.js:2  ⚠️ No permissions from hook, using fallback data
(anonymous) @ main.61d8c864.js:2
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: Object
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: Object
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: Object
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: Object
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7170,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:44:50.530Z"
}
main.61d8c864.js:2  ⚠️ No permissions from hook, using fallback data
(anonymous) @ main.61d8c864.js:2
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: Object
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: Object
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: Object
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: Object
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: Object
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: Object
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: Object
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: Object
main.61d8c864.js:2 📊 PERMISSION MATRIX DATA LOADED: Object
sw.js?v=1.3.4-1760694279644:120 🔄 Serving UNCACHED fresh JS/CSS from network: https://tmcasebooking.vercel.app/static/css/main.cfb3284a.css
sw.js?v=1.3.4-1760694279644:120 🔄 Serving UNCACHED fresh JS/CSS from network: https://tmcasebooking.vercel.app/manifest.json
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle requested: {actionId: 'manage-doctors', roleId: 'operations', readonly: false, hasOnPermissionChange: true, timestamp: '2025-10-17T09:45:00.275Z'}
main.61d8c864.js:2 🚨 PERMISSION TOGGLE - CRITICAL DEBUG FOR PROBLEMATIC PERMISSION:
main.61d8c864.js:2 actionId: manage-doctors
main.61d8c864.js:2 roleId: operations
main.61d8c864.js:2 readonly: false
main.61d8c864.js:2 hasCallback: true
main.61d8c864.js:2 permissions for this action: (10) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
main.61d8c864.js:2 currentPermission: {roleId: 'operations', actionId: 'manage-doctors', allowed: true}
main.61d8c864.js:2 all permissions count: 315
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle details: {actionId: 'manage-doctors', roleId: 'operations', currentPermission: {…}, currentAllowed: true, newAllowed: false}
main.61d8c864.js:2 🔄 PERMISSION CHANGE HANDLER - Received: {actionId: 'manage-doctors', roleId: 'operations', allowed: false, isEditing: true, isMutating: false, …}
main.61d8c864.js:2 📤 PERMISSION CHANGE HANDLER - Calling updatePermission...
main.61d8c864.js:2 ✅ PERMISSION TOGGLE - Callback invoked
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: true, hasCallback: false, readonly: true}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Starting update: {roleId: 'operations', actionId: 'manage-doctors', allowed: false, timestamp: '2025-10-17T09:45:00.295Z'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Parsed actionId: {actionId: 'manage-doctors', resource: 'doctors', action: 'manage', roleId: 'operations'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Existing permission check: {hasExisting: true, existingCount: 1, existingIds: Array(1)}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Updating existing permission...
main.61d8c864.js:2 ✅ UPDATE SUPABASE PERMISSION - Update successful
main.61d8c864.js:2 ✅ PERMISSION CHANGE HANDLER - Update successful
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:00.544Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:00.567Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 22,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:00.687Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: {rolesReceived: 6, rolesData: Array(6), actionsReceived: 40, actionsData: Array(3), permissionsReceived: 315, …}
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: {isLoading: false, error: null, rolesCount: 6, permissionsCount: 315, actionsCount: 40, …}
main.61d8c864.js:2 📊 PERMISSION MATRIX DATA LOADED: {totalRoles: 6, totalPermissions: 315, totalActions: 40, hasData: true}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle requested: {actionId: 'manage-doctors', roleId: 'operations-manager', readonly: false, hasOnPermissionChange: true, timestamp: '2025-10-17T09:45:01.383Z'}
main.61d8c864.js:2 🚨 PERMISSION TOGGLE - CRITICAL DEBUG FOR PROBLEMATIC PERMISSION:
main.61d8c864.js:2 actionId: manage-doctors
main.61d8c864.js:2 roleId: operations-manager
main.61d8c864.js:2 readonly: false
main.61d8c864.js:2 hasCallback: true
main.61d8c864.js:2 permissions for this action: (10) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
main.61d8c864.js:2 currentPermission: {roleId: 'operations-manager', actionId: 'manage-doctors', allowed: true}
main.61d8c864.js:2 all permissions count: 315
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle details: {actionId: 'manage-doctors', roleId: 'operations-manager', currentPermission: {…}, currentAllowed: true, newAllowed: false}
main.61d8c864.js:2 🔄 PERMISSION CHANGE HANDLER - Received: {actionId: 'manage-doctors', roleId: 'operations-manager', allowed: false, isEditing: true, isMutating: false, …}
main.61d8c864.js:2 📤 PERMISSION CHANGE HANDLER - Calling updatePermission...
main.61d8c864.js:2 ✅ PERMISSION TOGGLE - Callback invoked
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: true, hasCallback: false, readonly: true}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Starting update: {roleId: 'operations-manager', actionId: 'manage-doctors', allowed: false, timestamp: '2025-10-17T09:45:01.401Z'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Parsed actionId: {actionId: 'manage-doctors', resource: 'doctors', action: 'manage', roleId: 'operations-manager'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Existing permission check: {hasExisting: true, existingCount: 1, existingIds: Array(1)}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Updating existing permission...
main.61d8c864.js:2 ✅ UPDATE SUPABASE PERMISSION - Update successful
main.61d8c864.js:2 ✅ PERMISSION CHANGE HANDLER - Update successful
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:01.548Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:01.552Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 13,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:01.678Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: {rolesReceived: 6, rolesData: Array(6), actionsReceived: 40, actionsData: Array(3), permissionsReceived: 315, …}
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: {isLoading: false, error: null, rolesCount: 6, permissionsCount: 315, actionsCount: 40, …}
main.61d8c864.js:2 📊 PERMISSION MATRIX DATA LOADED: {totalRoles: 6, totalPermissions: 315, totalActions: 40, hasData: true}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle requested: {actionId: 'manage-doctors', roleId: 'sales', readonly: false, hasOnPermissionChange: true, timestamp: '2025-10-17T09:45:02.146Z'}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle details: {actionId: 'manage-doctors', roleId: 'sales', currentPermission: {…}, currentAllowed: false, newAllowed: true}
main.61d8c864.js:2 🔄 PERMISSION CHANGE HANDLER - Received: {actionId: 'manage-doctors', roleId: 'sales', allowed: true, isEditing: true, isMutating: false, …}
main.61d8c864.js:2 📤 PERMISSION CHANGE HANDLER - Calling updatePermission...
main.61d8c864.js:2 ✅ PERMISSION TOGGLE - Callback invoked
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: true, hasCallback: false, readonly: true}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Starting update: {roleId: 'sales', actionId: 'manage-doctors', allowed: true, timestamp: '2025-10-17T09:45:02.161Z'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Parsed actionId: {actionId: 'manage-doctors', resource: 'doctors', action: 'manage', roleId: 'sales'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Existing permission check: {hasExisting: true, existingCount: 1, existingIds: Array(1)}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Updating existing permission...
main.61d8c864.js:2 ✅ UPDATE SUPABASE PERMISSION - Update successful
main.61d8c864.js:2 ✅ PERMISSION CHANGE HANDLER - Update successful
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:02.312Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:02.316Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: {rolesReceived: 6, rolesData: Array(6), actionsReceived: 40, actionsData: Array(3), permissionsReceived: 315, …}
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: {isLoading: false, error: null, rolesCount: 6, permissionsCount: 315, actionsCount: 40, …}
main.61d8c864.js:2 📊 PERMISSION MATRIX DATA LOADED: {totalRoles: 6, totalPermissions: 315, totalActions: 40, hasData: true}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle requested: {actionId: 'manage-doctors', roleId: 'sales', readonly: false, hasOnPermissionChange: true, timestamp: '2025-10-17T09:45:03.143Z'}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle details: {actionId: 'manage-doctors', roleId: 'sales', currentPermission: {…}, currentAllowed: true, newAllowed: false}
main.61d8c864.js:2 🔄 PERMISSION CHANGE HANDLER - Received: {actionId: 'manage-doctors', roleId: 'sales', allowed: false, isEditing: true, isMutating: false, …}
main.61d8c864.js:2 📤 PERMISSION CHANGE HANDLER - Calling updatePermission...
main.61d8c864.js:2 ✅ PERMISSION TOGGLE - Callback invoked
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: true, hasCallback: false, readonly: true}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Starting update: {roleId: 'sales', actionId: 'manage-doctors', allowed: false, timestamp: '2025-10-17T09:45:03.158Z'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Parsed actionId: {actionId: 'manage-doctors', resource: 'doctors', action: 'manage', roleId: 'sales'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Existing permission check: {hasExisting: true, existingCount: 1, existingIds: Array(1)}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Updating existing permission...
main.61d8c864.js:2 ✅ UPDATE SUPABASE PERMISSION - Update successful
main.61d8c864.js:2 ✅ PERMISSION CHANGE HANDLER - Update successful
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:03.256Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:03.260Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: {rolesReceived: 6, rolesData: Array(6), actionsReceived: 40, actionsData: Array(3), permissionsReceived: 315, …}
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: {isLoading: false, error: null, rolesCount: 6, permissionsCount: 315, actionsCount: 40, …}
main.61d8c864.js:2 📊 PERMISSION MATRIX DATA LOADED: {totalRoles: 6, totalPermissions: 315, totalActions: 40, hasData: true}
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle requested: {actionId: 'manage-procedure-types', roleId: 'operations', readonly: false, hasOnPermissionChange: true, timestamp: '2025-10-17T09:45:04.166Z'}
main.61d8c864.js:2 🚨 PERMISSION TOGGLE - CRITICAL DEBUG FOR PROBLEMATIC PERMISSION:
main.61d8c864.js:2 actionId: manage-procedure-types
main.61d8c864.js:2 roleId: operations
main.61d8c864.js:2 readonly: false
main.61d8c864.js:2 hasCallback: true
main.61d8c864.js:2 permissions for this action: (10) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
main.61d8c864.js:2 currentPermission: {roleId: 'operations', actionId: 'manage-procedure-types', allowed: true}
main.61d8c864.js:2 all permissions count: 315
main.61d8c864.js:2 🔄 PERMISSION TOGGLE - Toggle details: {actionId: 'manage-procedure-types', roleId: 'operations', currentPermission: {…}, currentAllowed: true, newAllowed: false}
main.61d8c864.js:2 🔄 PERMISSION CHANGE HANDLER - Received: {actionId: 'manage-procedure-types', roleId: 'operations', allowed: false, isEditing: true, isMutating: false, …}
main.61d8c864.js:2 📤 PERMISSION CHANGE HANDLER - Calling updatePermission...
main.61d8c864.js:2 ✅ PERMISSION TOGGLE - Callback invoked
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: true, hasCallback: false, readonly: true}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Starting update: {roleId: 'operations', actionId: 'manage-procedure-types', allowed: false, timestamp: '2025-10-17T09:45:04.181Z'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Parsed actionId: {actionId: 'manage-procedure-types', resource: 'procedures', action: 'manage', roleId: 'operations'}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Existing permission check: {hasExisting: true, existingCount: 1, existingIds: Array(1)}
main.61d8c864.js:2 🔧 UPDATE SUPABASE PERMISSION - Updating existing permission...
main.61d8c864.js:2 ✅ UPDATE SUPABASE PERMISSION - Update successful
main.61d8c864.js:2 ✅ PERMISSION CHANGE HANDLER - Update successful
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:04.360Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": false,
  "cacheAge": null,
  "cacheSize": 0,
  "timestamp": "2025-10-17T09:45:04.366Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 🔴 PERMISSION MATRIX COMPONENT DEBUG: {rolesReceived: 6, rolesData: Array(6), actionsReceived: 40, actionsData: Array(3), permissionsReceived: 315, …}
main.61d8c864.js:2 🔍 PERMISSION MATRIX DEBUG: {isLoading: false, error: null, rolesCount: 6, permissionsCount: 315, actionsCount: 40, …}
main.61d8c864.js:2 📊 PERMISSION MATRIX DATA LOADED: {totalRoles: 6, totalPermissions: 315, totalActions: 40, hasData: true}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4066,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:08.520Z"
}
main.61d8c864.js:2 📍 BEFORE PERMISSION MATRIX RENDER: {rolesCount: 6, actionsCount: 40, permissionsCount: 315, rolesFirstItem: {…}, actionsFirstItem: {…}, …}
main.61d8c864.js:2 🎛️ PERMISSION MATRIX STATE: {isEditing: true, isMutating: false, hasCallback: true, readonly: false}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4075,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:08.529Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4888,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.342Z"
}
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4889,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.343Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 🔍 AUDIT LOGS ACCESS DEBUG:
main.61d8c864.js:2 currentUser?.username: anrong.low
main.61d8c864.js:2 currentUser?.role: admin
main.61d8c864.js:2 PERMISSION_ACTIONS.AUDIT_LOGS: audit-logs
main.61d8c864.js:2 canViewAuditLogs: false
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4890,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.344Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 hasPermission function result: false
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4910,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.364Z"
}
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4910,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.364Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 🔍 AUDIT LOGS ACCESS DEBUG:
main.61d8c864.js:2 currentUser?.username: anrong.low
main.61d8c864.js:2 currentUser?.role: admin
main.61d8c864.js:2 PERMISSION_ACTIONS.AUDIT_LOGS: audit-logs
main.61d8c864.js:2 canViewAuditLogs: false
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4912,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.366Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 hasPermission function result: false
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4990,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.444Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 🔍 AUDIT LOGS ACCESS DEBUG:
main.61d8c864.js:2 currentUser?.username: anrong.low
main.61d8c864.js:2 currentUser?.role: admin
main.61d8c864.js:2 PERMISSION_ACTIONS.AUDIT_LOGS: audit-logs
main.61d8c864.js:2 canViewAuditLogs: false
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 4993,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:09.447Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 hasPermission function result: false
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7632,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:12.086Z"
}
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7632,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:12.086Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 🔍 AUDIT LOGS ACCESS DEBUG:
main.61d8c864.js:2 currentUser?.username: anrong.low
main.61d8c864.js:2 currentUser?.role: admin
main.61d8c864.js:2 PERMISSION_ACTIONS.AUDIT_LOGS: audit-logs
main.61d8c864.js:2 canViewAuditLogs: false
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "audit-logs",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7634,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:12.088Z"
}
main.61d8c864.js:2 🚨 CRITICAL AUDIT LOGS PERMISSION DEBUG:
main.61d8c864.js:2 roleId: admin
main.61d8c864.js:2 actionId: audit-logs
main.61d8c864.js:2 foundPermission: undefined
main.61d8c864.js:2 result: false
main.61d8c864.js:2 allPermissionsForAdmin: (110) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, …]
main.61d8c864.js:2 allAuditRelatedPermissions: (3) [{…}, {…}, {…}]
main.61d8c864.js:2 cacheSize: 315
main.61d8c864.js:2 hasPermission function result: false
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 7639,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:12.093Z"
}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 8510,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:12.964Z"
}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Loading system config...
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 8524,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:12.978Z"
}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Config loaded: {loadedConfig: {…}, timestamp: '2025-10-17T09:45:13.026Z'}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Header actions render: {hasChanges: false, isSaving: false, isLoading: false, config: true, originalConfig: true, …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Change detection: {hasChanges: false, configStr: '{"appVersion":"1.3.4","maintenanceMode":false,"cac…"defaultTheme":"\\"dark\\"","defaultLanguage":"en"}', originalConfigStr: '{"appVersion":"1.3.4","maintenanceMode":false,"cac…"defaultTheme":"\\"dark\\"","defaultLanguage":"en"}', configKeys: Array(11), originalConfigKeys: Array(11), …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Header actions render: {hasChanges: false, isSaving: false, isLoading: false, config: true, originalConfig: true, …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Header actions render: {hasChanges: false, isSaving: false, isLoading: false, config: true, originalConfig: true, …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Maintenance mode checkbox clicked: {currentValue: false, newValue: true, timestamp: '2025-10-17T09:45:15.596Z'}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Config change: {key: 'maintenanceMode', oldValue: false, newValue: true, timestamp: '2025-10-17T09:45:15.596Z'}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Header actions render: {hasChanges: false, isSaving: false, isLoading: false, config: true, originalConfig: true, …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Change detection: {hasChanges: true, configStr: '{"appVersion":"1.3.4","maintenanceMode":true,"cach…"defaultTheme":"\\"dark\\"","defaultLanguage":"en"}', originalConfigStr: '{"appVersion":"1.3.4","maintenanceMode":false,"cac…"defaultTheme":"\\"dark\\"","defaultLanguage":"en"}', configKeys: Array(11), originalConfigKeys: Array(11), …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Header actions render: {hasChanges: true, isSaving: false, isLoading: false, config: true, originalConfig: true, …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS SAVE - Save button clicked:
main.61d8c864.js:2 hasChanges: true
main.61d8c864.js:2 config: {appVersion: '1.3.4', maintenanceMode: true, cacheTimeout: 600, maxFileSize: 20, sessionTimeout: 3600, …}
main.61d8c864.js:2 originalConfig: {appVersion: '1.3.4', maintenanceMode: false, cacheTimeout: 600, maxFileSize: 20, sessionTimeout: 3600, …}
main.61d8c864.js:2 canManageSettings: true
main.61d8c864.js:2 currentUser: {id: '45d44b94-9979-4788-9df1-1c903eae77e4', username: 'anrong.low', password: '', role: 'admin', name: 'An Rong Low', …}
main.61d8c864.js:2 🔧 SYSTEM SETTINGS SAVE - Showing save confirmation modal
main.61d8c864.js:2 🔧 SYSTEM SETTINGS DEBUG - Header actions render: {hasChanges: true, isSaving: false, isLoading: false, config: true, originalConfig: true, …}
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 15984,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:20.438Z"
}
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Starting department load for country: Singapore
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - User role: admin
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Imported getStandardizedDepartments function
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - getStandardizedDepartments called with country: Singapore
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - Normalized country: Singapore
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - Raw departments from getCodeTableDepartments: ['Spine']
main.61d8c864.js:2 🔧 UNIFIED SERVICE DEBUG - Final sorted departments: ['Spine']
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Raw department names from getStandardizedDepartments: ['Spine']
main.61d8c864.js:2 🔧 CASE BOOKING DEBUG - Admin/IT user, using all departments: ['Spine']
main.61d8c864.js:2 ✅ Admin panel access granted for admin role
main.61d8c864.js:2 🔍 CRITICAL PERMISSION CHECK: {
  "roleId": "admin",
  "actionId": "manage-doctors",
  "userId": "system",
  "cacheExists": true,
  "cacheAge": 16056,
  "cacheSize": 315,
  "timestamp": "2025-10-17T09:45:20.510Z"
}
main.61d8c864.js:2 🔍 UNIFIED SERVICE - Getting doctors for department: {departmentName: 'Spine', country: 'Singapore', timestamp: '2025-10-17T09:45:26.672Z'}
main.61d8c864.js:2 ✅ UNIFIED SERVICE - Found doctors: {departmentName: 'Spine', count: 3, doctors: Array(3)}
